let list_items = {"last_item":null,"total_items":"11","first_item":null,"page_number":"1","page_size":"10","page_items":null,"search_time":"0.116","page_count":"2","events":{"event":[{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":"60626","going_count":null,"all_day":"0","latitude":"42.0015378","groups":null,"url":"http://chicago.eventful.com/events/social-justice-poetry-and-art-workshop-tea-/E0-001-134232734-0?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-134232734-0","privacy":"1","city_name":"Chicago","link_count":null,"longitude":"-87.6621321","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-04-01 19:00:00","tz_id":null,"description":" ***GOING DIGITAL*** Please stay tuned for an announcement about how to connect and participate online instead of in-person! ___________________________________________________________ This will be the second poetry and visual arts workshop in a series of three, each focusing on a different social justice theme. Toria Baez and Khloe Janel will lead this workshop focusing on mass incarceration and how it affects us and our communities. Come ready to read, write, and share! Art supplies will be be provided. ***This workshop is absolutely free to attend, but consider paying a few bucks to help offset our costs if you can. Because Third Estate Art is committed to all aspects of social justice, we pay all guest artists for their time and work.<br> <br> \n","modified":"2020-03-20 02:49:56","venue_display":"1","tz_country":null,"performers":null,"title":"Social Justice Poetry and Art Workshop with TEA","venue_address":"1228 W Loyola Ave","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":null,"created":"2020-03-20 02:49:56","venue_id":"V0-001-015005826-6","tz_city":null,"stop_time":"2020-04-01 21:00:00","venue_name":"Archie's Cafe","venue_url":"http://chicago.eventful.com/venues/archies-cafe-/V0-001-015005826-6?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":null,"going_count":null,"all_day":"2","latitude":"39.0597347","groups":null,"url":"http://chicago.eventful.com/events/conservation-landscapes-and-rain-gardens-/E0-001-133630284-5?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-133630284-5","privacy":"1","city_name":"Wheaton","link_count":null,"longitude":"-77.0390212","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-05-04 00:00:00","tz_id":null,"description":null,"modified":"2020-02-08 10:51:38","venue_display":"1","tz_country":null,"performers":null,"title":"Conservation Landscapes and Rain Gardens","venue_address":"1800 Glenallan Avenue","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":null,"created":"2020-02-08 10:51:38","venue_id":"V0-001-012351835-5","tz_city":null,"stop_time":"2020-05-04 00:00:00","venue_name":"Brookside Gardens","venue_url":"http://chicago.eventful.com/venues/brookside-gardens-/V0-001-012351835-5?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":null,"going_count":null,"all_day":"2","latitude":"39.0597347","groups":null,"url":"http://chicago.eventful.com/events/conservation-landscapes-and-rain-gardens-/E0-001-133618623-8?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-133618623-8","privacy":"1","city_name":"Wheaton","link_count":null,"longitude":"-77.0390212","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-05-03 00:00:00","tz_id":null,"description":null,"modified":"2020-02-08 03:21:51","venue_display":"1","tz_country":null,"performers":null,"title":"Conservation Landscapes and Rain Gardens","venue_address":"1800 Glenallan Avenue","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":null,"created":"2020-02-08 03:21:51","venue_id":"V0-001-012351835-5","tz_city":null,"stop_time":"2020-05-03 00:00:00","venue_name":"Brookside Gardens","venue_url":"http://chicago.eventful.com/venues/brookside-gardens-/V0-001-012351835-5?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":null,"going_count":null,"all_day":"2","latitude":"41.8781136","groups":null,"url":"http://chicago.eventful.com/events/midwest-political-science-association-mpsa-/E0-001-134345523-3?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-134345523-3","privacy":"1","city_name":"Chicago","link_count":null,"longitude":"-87.6297982","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2021-04-15 00:00:00","tz_id":null,"description":null,"modified":"2020-03-28 10:28:38","venue_display":"1","tz_country":null,"performers":null,"title":"Midwest Political Science Association - MPSA","venue_address":"Chicago, Illinois, United States","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":null,"created":"2020-03-28 10:28:38","venue_id":"V0-001-005749447-9","tz_city":null,"stop_time":"2021-04-18 00:00:00","venue_name":"Chicago, Illinois, United States","venue_url":"http://chicago.eventful.com/venues/chicago-illinois-united-states-/V0-001-005749447-9?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":null,"going_count":null,"all_day":"2","latitude":"39.0597347","groups":null,"url":"http://chicago.eventful.com/events/green-fest-2020-nonprofit-vendor-registration-/E0-001-132690379-7?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-132690379-7","privacy":"1","city_name":"Wheaton","link_count":null,"longitude":"-77.0390212","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-04-20 00:00:00","tz_id":null,"description":null,"modified":"2020-02-06 01:36:27","venue_display":"1","tz_country":null,"performers":null,"title":"Green Fest 2020: Non-profit Vendor Registration","venue_address":"1800 Glenallan Avenue","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":null,"created":"2019-12-10 02:30:20","venue_id":"V0-001-012351835-5","tz_city":null,"stop_time":"2020-04-19 00:00:00","venue_name":"Brookside Gardens","venue_url":"http://chicago.eventful.com/venues/brookside-gardens-/V0-001-012351835-5?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":null,"going_count":null,"all_day":"2","latitude":"41.8781136","groups":null,"url":"http://chicago.eventful.com/events/midwest-political-science-association-mpsa-/E0-001-128599490-2?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-128599490-2","privacy":"1","city_name":"Chicago","link_count":null,"longitude":"-87.6297982","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-04-16 00:00:00","tz_id":null,"description":null,"modified":"2019-07-09 04:04:08","venue_display":"1","tz_country":null,"performers":null,"title":"Midwest Political Science Association - MPSA","venue_address":"Chicago, Illinois, United States","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":null,"created":"2019-07-09 04:04:08","venue_id":"V0-001-005749447-9","tz_city":null,"stop_time":"2020-04-19 00:00:00","venue_name":"Chicago, Illinois, United States","venue_url":"http://chicago.eventful.com/venues/chicago-illinois-united-states-/V0-001-005749447-9?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":"60439","going_count":null,"all_day":"0","latitude":"41.6892417","groups":null,"url":"http://chicago.eventful.com/events/conservationhome-natural-lawn-care-/E0-001-134093807-2?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-134093807-2","privacy":"1","city_name":"Lemont","link_count":null,"longitude":"-87.9257507","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-04-04 11:00:00","tz_id":null,"description":" Take this UIE workshop to learn environmentally friendly lawn care practices and create your own sustainable action plan. Ages 14 & up.","modified":"2020-03-07 08:02:21","venue_display":"1","tz_country":null,"performers":null,"title":"Conservation@Home Natural Lawn Care","venue_address":"12545 West 111th St.","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":{"small":{"width":"48","url":"http://d1marr3m5x4iac.cloudfront.net/images/small/I0-001/024/412/738-6.jpeg_/conservationhome-natural-lawn-care-38.jpeg","height":"48"},"width":"48","caption":null,"medium":{"width":"128","url":"http://d1marr3m5x4iac.cloudfront.net/images/medium/I0-001/024/412/738-6.jpeg_/conservationhome-natural-lawn-care-38.jpeg","height":"128"},"url":"http://d1marr3m5x4iac.cloudfront.net/images/small/I0-001/024/412/738-6.jpeg_/conservationhome-natural-lawn-care-38.jpeg","thumb":{"width":"48","url":"http://d1marr3m5x4iac.cloudfront.net/images/thumb/I0-001/024/412/738-6.jpeg_/conservationhome-natural-lawn-care-38.jpeg","height":"48"},"height":"48"},"created":"2020-03-07 08:02:21","venue_id":"V0-001-002390208-9","tz_city":null,"stop_time":null,"venue_name":"Sagawau Environmental Learning Center","venue_url":"http://chicago.eventful.com/venues/sagawau-environmental-learning-center-/V0-001-002390208-9?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":"60637","going_count":null,"all_day":"2","latitude":"41.7886079","groups":null,"url":"http://chicago.eventful.com/events/socialist-aspirations-ii-sovereignty-ethics-glob-/E0-001-133155397-6?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-133155397-6","privacy":"1","city_name":"Chicago","link_count":null,"longitude":"-87.5987133","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-05-01 00:00:00","tz_id":null,"description":" TBA","modified":"2020-01-11 04:02:23","venue_display":"1","tz_country":null,"performers":null,"title":"Socialist Aspirations II: Sovereignty, Ethics, Global Politics","venue_address":"5801 South Ellis Avenue","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":null,"created":"2020-01-11 04:02:23","venue_id":"V0-001-000409648-4","tz_city":null,"stop_time":"2020-05-01 00:00:00","venue_name":"University of Chicago","venue_url":"http://chicago.eventful.com/venues/university-of-chicago-/V0-001-000409648-4?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":"60614","going_count":null,"all_day":"0","latitude":"41.9218698","groups":null,"url":"http://chicago.eventful.com/events/university-chicagos-clare-pearson-discusses-tole-/E0-001-131815322-7?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-131815322-7","privacy":"1","city_name":"Chicago","link_count":null,"longitude":"-87.6652446","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-05-28 18:30:00","tz_id":null,"description":" Kibbitznest Liberal Arts Discussions are a collaboration with The University of Chicago Graham School to host presentations and discussions of original research, hosted at Kibbitznest Books, Brews & Blarney. All proceeds benefit the kibbitznest nonprofit, with a mission to encourage face-to-face communication, inspire conversation, and bring our community together to share insights and philosophies in a Socratic dialogue. FREE & OPEN TO THE PUBLIC (Due to limited seating, RSVPs will receive priority seating) _______________________________ Discussion Information: The freedoms that lie at the heart of modern liberal democracies by definition and intent require openness to the cultural practices and religious beliefs of people we might ordinarily define as others. But from the beginning the thinkers who laid the foundations for modern democratic societies wrestled over just what that shape that openness should take and how far it should go (arguments that were of course limited by the relative monoculture of the worlds in which they emerged). Currently we face this issue on more than an ordinary way, in an eruption of real political struggles over race, religion, migration and immigration, as well as gender. In this talk & conversation, we will aim to situate these struggles in their philosophical contexts and to sketch out the core issues behind attempts to create a genuine &quot;community of others grounded in functional respect for differences. _______________________________ About CLARE PEARSON: CLARE PEARSON joined the Basic Program staff in 1997, after 10 years of undergraduate teaching at The University of Chicago and the Honors College at Valparaiso University. She is the 2008 recipient of the Graham School Excellence in Teaching Award for the Basic Program, and in addition to her classes at the basic program, currently teaches in the Humanities and Philosophy Department at Oakton Community College. Stay tuned for updates! _______________________________ Sponsor: Kibbitznest Books, Brews & Blarney Registration is not necessary but appreciated due to space limitations. kibbitznest is a registered 501(c)3 non-profit organization and wifi-free zone dedicated to the preservation of quality face-to-face human communication.<br> <br> \n","modified":"2020-02-26 02:52:01","venue_display":"1","tz_country":null,"performers":null,"title":"The University of Chicago's Clare Pearson discusses \"Toleration, Assimilation, Identity Politics: Struggles over the Practice of a Multicultural Society\"","venue_address":"2212 N Clybourn Ave","geocode_type":"EVDB Geocoder","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":null,"created":"2019-10-19 04:09:43","venue_id":"V0-001-011969058-2","tz_city":null,"stop_time":"2020-05-28 19:45:00","venue_name":"kibbitznest","venue_url":"http://chicago.eventful.com/venues/kibbitznest-/V0-001-011969058-2?utm_source=apis&utm_medium=apim&utm_campaign=apic"},{"watching_count":null,"olson_path":"America/Chicago","calendar_count":null,"comment_count":null,"region_abbr":"IL","postal_code":null,"going_count":null,"all_day":"0","latitude":"41.85","groups":null,"url":"http://chicago.eventful.com/events/chicago-pretreatment-101-training-/E0-001-130424296-8?utm_source=apis&utm_medium=apim&utm_campaign=apic","id":"E0-001-130424296-8","privacy":"1","city_name":"Chicago","link_count":null,"longitude":"-87.65","country_name":"United States","country_abbr":"USA","region_name":"Illinois","start_time":"2020-04-22 08:30:00","tz_id":null,"description":" This event is a FREE introductory-level training to the National Pretreatment Program, sponsored by US EPA. Topics to include: Overview and history of the national pretreatment regulations Pretreatment standars Local limits Industrial user inventories and permitting And many more! Full agenda with 2 days worth of topics is available on the EPA Pretreatment Program website.  Final agenda with details and speakers will be distributed to registrants prior to the event. Space is limited and priority is given to municipal, state and federal employees -- register early! Please register under the most appropriate ticket category. Participants eligible to receive CEUs should indicate their state during the registration process so EPA may coordinate accordingly to provide the necessary documentation.   EPA will use your registration information solely for this event. We will not share your information with any third party. If you require special accommodations, please contact Rebecca Christopher at christopher.rebecca@epa.gov or 202.564.2444 by Monday, December 2. ","modified":"2019-09-11 18:12:04","venue_display":"1","tz_country":null,"performers":null,"title":"Chicago Pretreatment 101 Training","venue_address":"77 W. Jackson Boulevard , Room 331","geocode_type":"City Based GeoCodes","tz_olson_path":"America/Chicago","recur_string":null,"calendars":null,"owner":"evdb","going":null,"country_abbr2":"US","image":{"small":{"width":"48","url":"http://d1marr3m5x4iac.cloudfront.net/images/small/I0-001/045/010/580-2.jpeg_/chicago-pretreatment-101-training-80.jpeg","height":"48"},"width":"48","caption":null,"medium":{"width":"128","url":"http://d1marr3m5x4iac.cloudfront.net/images/medium/I0-001/045/010/580-2.jpeg_/chicago-pretreatment-101-training-80.jpeg","height":"128"},"url":"http://d1marr3m5x4iac.cloudfront.net/images/small/I0-001/045/010/580-2.jpeg_/chicago-pretreatment-101-training-80.jpeg","thumb":{"width":"48","url":"http://d1marr3m5x4iac.cloudfront.net/images/thumb/I0-001/045/010/580-2.jpeg_/chicago-pretreatment-101-training-80.jpeg","height":"48"},"height":"48"},"created":"2019-09-11 00:39:07","venue_id":"V0-001-014749233-6","tz_city":null,"stop_time":null,"venue_name":"EPA Region 5 office","venue_url":"http://chicago.eventful.com/venues/epa-region-5-office-/V0-001-014749233-6?utm_source=apis&utm_medium=apim&utm_campaign=apic"}]}};
const oData = JSON.parse(JSON.stringify(list_items));

const pagination_element = document.getElementById('pagination');

let current_page = 1;
let rows = 2;

function DisplayList (oData, rows_per_page, page) {
	document.getElementById('list').innerHTML = "";
	page--;

	let start = rows_per_page * page;
	let end = start + rows_per_page;
	console.log("start: " + start + " end: " + end);

	for (let i = start; i < oData.events.event.length && i<end ; i++) {
	 	let item = oData.events.event[i];
		 let item_element = document.createElement('div');

		 //////Logic to create HTML element and display
		 var title = "";
		if (oData.events.event[i].title != null)
			title = oData.events.event[i].title;
	
		var time = "";
		time = oData.events.event[i].start_time;
		if (time != null){
		  if (oData.events.event[i].stop_time != null)
			time +=' - '+oData.events.event[i].stop_time;
		}
	
		var addr = "";
		if (oData.events.event[i].venue_address != null)
		  addr = oData.events.event[i].venue_address;
	
		var description = "";  
		if (oData.events.event[i].description != null)
		  description = oData.events.event[i].description;
	
		var url = ""; var url_btn = "";
		if (oData.events.event[i].url != null){
			url = oData.events.event[i].url;
			url_btn = `<button onclick="window.location.href = '${url}';" class="btn btn-info">More Info</button> `
		}
	
		const x = `
			<div>
				<div class="row no-gutters border rounded overflow-hidden flex-md-row mr-4 mb-4 shadow-sm h-md-250 position-relative">
					<div class="card-body">
						<h5 class="card-title">${title}</h5>
						<h6 class="card-subtitle mb-2 text-muted">${time}</h6>
						<h6 class="card-subtitle mb-2 text-info">${addr}</h6>
						<div>${description}</div>
						<hr>
						${url_btn}
					</div>
				</div>
			</div>
		`
			item_element.innerText = x;
			document.getElementById('list').innerHTML = document.getElementById('list').innerHTML + x;
		
	} 
}

function SetupPagination (oData, wrapper, rows_per_page) {
	wrapper.innerHTML = "";
	let length = oData.events.event.length;

	let page_count = Math.ceil(length / rows_per_page);
	for (let i = 1; i < page_count + 1; i++) {
		let btn = PaginationButton(i, oData);
		wrapper.appendChild(btn);
	}
}

function PaginationButton (page, oData) {
	let button = document.createElement('button');
	button.innerText = page;

	if (current_page == page) button.classList.add('active');

	button.addEventListener('click', function () {
		current_page = page;
		DisplayList(oData, rows, current_page);

		let current_btn = document.querySelector('.pagenumbers button.active');
		current_btn.classList.remove('active');

		button.classList.add('active');
	});

	return button;
}

DisplayList(oData, rows, current_page);
SetupPagination(oData, pagination_element, rows);